{"remainingRequest":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\activity-durian\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\src\\router\\index.js","mtime":1597229626073},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBnZXRSZWNvbWVuZElkLCBzZXRSZWNvbWVuZElkLCBzZXRLZXksIGdldEtleSwgY2xlYXJUb2tlbiB9IGZyb20gIi4uL3N0b3JlL3VzZXIiOwppbXBvcnQgcmVzdG9yZVVybCBmcm9tICIuLi91dGlscy9yZXN0b3JlVXJsIjsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiL2xvZ2luIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9Mb2dpbiddLCByZXNvbHZlKTsKICB9Cn0sIHsKICBwYXRoOiAiLyIsCiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9Ib21lJ10sIHJlc29sdmUpOwogIH0gLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICAvLyBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovICcuLi92aWV3cy9BYm91dC52dWUnKQoKfSwgewogIHBhdGg6ICIvd2ViIiwKICBuYW1lOiAiV2ViIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICByZXR1cm4gcmVxdWlyZShbJ0Avdmlld3MvV2ViJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvd2VpeGluIiwKICBuYW1lOiAid2VpeGluIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICByZXR1cm4gcmVxdWlyZShbJ0Avdmlld3MvV2VpeGluJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvcnVsZSIsCiAgbmFtZTogInJ1bGUiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9SdWxlJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvdGlwcyIsCiAgbmFtZTogInRpcHMiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9UaXBzJ10sIHJlc29sdmUpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcwp9KTsKLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIC8vIOW+ruS/oeWIhuS6q+aXtu+8jOW+ruS/oeS8muWcqOWcsOWdgOagj+a3u+WKoOmineWkluWPguaVsAogIGlmIChyZXN0b3JlVXJsLmlzV2VDaGF0VXJsKCkpIHsKICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdG9yZVVybC5nZXRQcm9qZWN0VXJsKCk7CiAgfQoKICBpZiAocmVzdG9yZVVybC5nZXRLZXkoKSkgewogICAgdmFyIHVybCA9IHJlc3RvcmVVcmwuZ2V0S2V5KCk7CgogICAgaWYgKGdldEtleSgpICE9IHVybCkgewogICAgICBjbGVhclRva2VuKCk7CiAgICB9CiAgfQoKICB2YXIgcmVjb21lbmRJZCA9IGdldFJlY29tZW5kSWQoKTsKICB2YXIga2V5ID0gcmVzdG9yZVVybC5nZXRLZXkoKTsKCiAgaWYgKGtleSkgewogICAgc2V0S2V5KGtleSk7CiAgfSAvLyBpZiAoIWtleSkgewogIC8vICAga2V5ID0gcmVzdG9yZVVybC5nZXRLZXkoKTsKICAvLyAgIGlmIChrZXkpIHsKICAvLyAgICAgc2V0S2V5KGtleSk7CiAgLy8gICB9CiAgLy8gfQoKCiAgaWYgKCFyZWNvbWVuZElkKSB7CiAgICByZWNvbWVuZElkID0gcmVzdG9yZVVybC5nZXRSZWNvbWVuZElkKCk7CgogICAgaWYgKHJlY29tZW5kSWQpIHsKICAgICAgc2V0UmVjb21lbmRJZChyZWNvbWVuZElkKTsKICAgIH0KICB9CgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/abcd/Desktop/activity-durian/src/router/index.js"],"names":["Vue","VueRouter","getRecomendId","setRecomendId","setKey","getKey","clearToken","restoreUrl","use","routes","path","name","component","resolve","require","router","beforeEach","to","from","next","isWeChatUrl","window","location","href","getProjectUrl","url","recomendId","key"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport { getRecomendId, setRecomendId , setKey, getKey, clearToken } from \"../store/user\";\r\n\r\nimport restoreUrl from \"../utils/restoreUrl\";\r\n\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    component: resolve => require(['@/views/Login'],resolve),\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: resolve => require(['@/views/Home'],resolve),\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\r\n  },\r\n  {\r\n    path: \"/web\",\r\n    name: \"Web\",\r\n    component: resolve => require(['@/views/Web'],resolve),\r\n  },\r\n  {\r\n    path: \"/weixin\",\r\n    name: \"weixin\",\r\n    component: resolve => require(['@/views/Weixin'],resolve),\r\n  },\r\n  {\r\n    path: \"/rule\",\r\n    name: \"rule\",\r\n    component: resolve => require(['@/views/Rule'],resolve),\r\n  },{\r\n    path: \"/tips\",\r\n    name: \"tips\",\r\n    component: resolve => require(['@/views/Tips'],resolve),\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  routes,\r\n});\r\n\r\n/* eslint-disable no-unused-vars */\r\nrouter.beforeEach((to, from, next) => {\r\n  // 微信分享时，微信会在地址栏添加额外参数\r\n  if (restoreUrl.isWeChatUrl()) {\r\n    window.location.href = restoreUrl.getProjectUrl();\r\n  }\r\n\r\n \r\n  if(restoreUrl.getKey()) {\r\n    const url = restoreUrl.getKey();\r\n    if(getKey() != url) {\r\n      clearToken();\r\n    }\r\n  }\r\n \r\n \r\n\r\n  let recomendId = getRecomendId();\r\n  let key = restoreUrl.getKey();\r\n  if(key) {\r\n    setKey(key);\r\n  }\r\n  // if (!key) {\r\n  //   key = restoreUrl.getKey();\r\n  //   if (key) {\r\n  //     setKey(key);\r\n  //   }\r\n  // }\r\n\r\n\r\n  if (!recomendId) {\r\n    recomendId = restoreUrl.getRecomendId();\r\n    if (recomendId) {\r\n      setRecomendId(recomendId);\r\n    }\r\n  }\r\n\r\n  next();\r\n});\r\n\r\nexport default router;\r\n"]}]}