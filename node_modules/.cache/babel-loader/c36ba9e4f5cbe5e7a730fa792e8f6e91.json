{"remainingRequest":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\abcd\\Desktop\\activity-durian\\src\\components\\Geet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\src\\components\\Geet.vue","mtime":1597229869809},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\activity-durian\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICAvLyAgIOaOpeWPl+eItue7hOS7tuS8oOmAkueahOWAvO+8jOeUqOadpeaOp+WItuWbvuW9oumqjOivgeeahOWKoOi9vQogIHByb3BzOiBbImlzR2VldCJdLAogIG1ldGhvZHM6IHsKICAgIEd0Q2FwdGNoYTogZnVuY3Rpb24gR3RDYXB0Y2hhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyAgIOatpHVybOaYr+aegemqjOWumOe9keeahOa1i+ivleivt+axguWcsOWdgO+8jOWKoOmaj+acuuaVsOmYsuatoue8k+WtmAoKCiAgICAgIF90aGlzLmF4aW9zLnBvc3QoImh0dHBzOi8vYXBpLm1lbmdkaWd1YS5jbi9tZW1iZXIvYWN0aW9uL2ZpcnN0LXJlZ2lzdGVyP3Q9IiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygiMSzpobXpnaLliJ3lp4vljJbvvIzosIPnlKjmnoHpqozmjqXlj6Mx77yM6L+b6KGM5Zu+5b2i6aqM6K+B56CB55qE5Yqg6L29Iik7CiAgICAgICAgLy8g5p6B6aqM56ys5LiA5qyh77yM6K+35rGC5Zue5p2l55qE5Y+C5pWwCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICB2YXIgaGFuZGxlckVtYmVkID0gZnVuY3Rpb24gaGFuZGxlckVtYmVkKGNhcHRjaGFPYmopIHsKICAgICAgICAgIC8vICAg5Zu+5b2i6aqM6K+B5oiQ5YqfCiAgICAgICAgICBjYXB0Y2hhT2JqLm9uU3VjY2VzcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYXB0Y2hhT2JqLmdldFZhbGlkYXRlKCk7IC8vIGNvbnNvbGUubG9nKCcxMjMnLHJlc3VsdCkKCiAgICAgICAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICAgICAgICBnZWV0ZXN0X2NoYWxsZW5nZTogcmVzdWx0LmdlZXRlc3RfY2hhbGxlbmdlLAogICAgICAgICAgICAgIGdlZXRlc3RfdmFsaWRhdGU6IHJlc3VsdC5nZWV0ZXN0X3ZhbGlkYXRlLAogICAgICAgICAgICAgIGdlZXRlc3Rfc2VjY29kZTogcmVzdWx0LmdlZXRlc3Rfc2VjY29kZSwKICAgICAgICAgICAgICBzdGF0dXM6IGRhdGEuc3VjY2VzcwogICAgICAgICAgICB9OyAvLyDmnoHpqozmoKHpqoznmoTlj4LmlbDvvIzlsIblhbbkvKDnu5nmnI3liqHnq6/vvIzov5vooYzmoKHpqozjgIIKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coCiAgICAgICAgICAgIC8vICAgIjPvvIzlm77lvaLpqozor4HpgJrov4fvvIzlsIbmlbDmja7kvKDpgJLnu5nniLbnu4Tku7bvvIzov5vooYzmnI3liqHnq6/pqozor4EiCiAgICAgICAgICAgIC8vICk7CgogICAgICAgICAgICBfdGhpcy4kZW1pdCgiZ2VldFBhdGgiLCBwYXJhbSk7CiAgICAgICAgICB9KS5vbkVycm9yKGZ1bmN0aW9uICgpIHsvLyAgIOWbvuW9oumqjOivgeWksei0pQogICAgICAgICAgfSk7IC8vICAg5Li65q2k6aG16Z2i55qE6Jma5ouf5oyJ6ZKu5re75Yqg54K55Ye75LqL5Lu2CgogICAgICAgICAgX3RoaXMuJHJlZnMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gZGVtbygpIHsKICAgICAgICAgICAgLy8g5p6B6aqM5Zu+54mH6Kem5Y+R5LmL5ZCO77yM5L+u5pS55o6n5Yi25Y+Y6YeP6aKd5biD5bCU5YC877yM5a6e546w5YaN5qyh6Kem5Y+RCiAgICAgICAgICAgIF90aGlzLiRlbWl0KCJjbGlja0NoYW5nZSIsIGZhbHNlKTsKCiAgICAgICAgICAgIGlmIChfdGhpcy5pc0dlZXQpIHsKICAgICAgICAgICAgICBjYXB0Y2hhT2JqLnZlcmlmeSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OyAvLyAgIOWIneWni+WMluaegemqjAoKCiAgICAgICAgX3RoaXMuJGluaXRHZWV0KHsKICAgICAgICAgIGd0OiBkYXRhLmRhdGEuZ3QsCiAgICAgICAgICBjaGFsbGVuZ2U6IGRhdGEuZGF0YS5jaGFsbGVuZ2UsCiAgICAgICAgICBwcm9kdWN0OiAiYmluZCIsCiAgICAgICAgICBvZmZsaW5lOiAhZGF0YS5kYXRhLnN1Y2Nlc3MsCiAgICAgICAgICBodHRwczogdHJ1ZQogICAgICAgIH0sIGhhbmRsZXJFbWJlZCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDpobXpnaLliJvlu7rvvIzosIPnlKjlh73mlbAKICAgIHRoaXMuR3RDYXB0Y2hhKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOWPguaVsOeahOWPmOWMlu+8jOiwg+eUqOaegemqjAogICAgaXNHZWV0OiBmdW5jdGlvbiBpc0dlZXQoKSB7CiAgICAgIC8vICAg6L+Z6YeM6YCa6L+H5oyJ6ZKu5LqL5Lu26LCD55So5p6B6aqMCiAgICAgIHRoaXMuJHJlZnMuYnRuLmNsaWNrKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Geet.vue"],"names":[],"mappings":";;;;;AAMA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA,EAAA;AACA,GAHA;AAIA;AACA,EAAA,KAAA,EAAA,CAAA,QAAA,CALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CAEA;;;AACA,MAAA,KAAA,CAAA,KAAA,CACA,IADA,CAEA,6DACA,IAAA,IAAA,GAAA,OAAA,EAHA,EAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA;AACA;AACA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,YAAA,GAAA,SAAA,YAAA,CAAA,UAAA,EAAA;AACA;AACA,UAAA,UAAA,CACA,SADA,CACA,YAAA;AACA,gBAAA,MAAA,GAAA,UAAA,CAAA,WAAA,EAAA,CADA,CAEA;;AACA,gBAAA,KAAA,GAAA;AACA,cAAA,iBAAA,EAAA,MAAA,CAAA,iBADA;AAEA,cAAA,gBAAA,EAAA,MAAA,CAAA,gBAFA;AAGA,cAAA,eAAA,EAAA,MAAA,CAAA,eAHA;AAIA,cAAA,MAAA,EAAA,IAAA,CAAA;AAJA,aAAA,CAHA,CASA;AACA;AACA;AACA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,UAAA,EAAA,KAAA;AACA,WAfA,EAgBA,OAhBA,CAgBA,YAAA,CACA;AACA,WAlBA,EAFA,CAqBA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,SAAA,IAAA,GAAA;AACA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,EAAA;AACA,cAAA,UAAA,CAAA,MAAA;AACA;AACA,WANA;AAOA,SA7BA,CALA,CAmCA;;;AACA,QAAA,KAAA,CAAA,SAAA,CACA;AACA,UAAA,EAAA,EAAA,IAAA,CAAA,IAAA,CAAA,EADA;AAEA,UAAA,SAAA,EAAA,IAAA,CAAA,IAAA,CAAA,SAFA;AAGA,UAAA,OAAA,EAAA,MAHA;AAIA,UAAA,OAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAJA;AAKA,UAAA,KAAA,EAAA;AALA,SADA,EAQA,YARA;AAUA,OAnDA;AAoDA;AAxDA,GANA;AAiEA,EAAA,QAAA,EAAA,EAjEA;AAmEA,EAAA,OAnEA,qBAmEA;AACA;AACA,SAAA,SAAA;AACA,GAtEA;AAwEA,EAAA,OAxEA,qBAwEA,CAAA,CAxEA;AAyEA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,KAAA;AACA;AALA;AAzEA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <i ref=\"btn\"></i>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  //   接受父组件传递的值，用来控制图形验证的加载\r\n  props: [\"isGeet\"],\r\n  methods: {\r\n    GtCaptcha() {\r\n      let _this = this;\r\n      //   此url是极验官网的测试请求地址，加随机数防止缓存\r\n      _this.axios\r\n        .post(\r\n          \"https://api.mengdigua.cn/member/action/first-register?t=\" +\r\n            new Date().getTime()\r\n        )\r\n        .then(res => {\r\n          // console.log(\"1,页面初始化，调用极验接口1，进行图形验证码的加载\");\r\n          // 极验第一次，请求回来的参数\r\n          // console.log(res);\r\n          let data = res.data;\r\n          var handlerEmbed = function(captchaObj) {\r\n            //   图形验证成功\r\n            captchaObj\r\n              .onSuccess(function() {\r\n                var result = captchaObj.getValidate();\r\n                // console.log('123',result)\r\n                let param = {\r\n                  geetest_challenge: result.geetest_challenge,\r\n                  geetest_validate: result.geetest_validate,\r\n                  geetest_seccode: result.geetest_seccode,\r\n                  status: data.success\r\n                };\r\n                // 极验校验的参数，将其传给服务端，进行校验。\r\n                // console.log(\r\n                //   \"3，图形验证通过，将数据传递给父组件，进行服务端验证\"\r\n                // );\r\n                _this.$emit(\"geetPath\", param);\r\n              })\r\n              .onError(function() {\r\n                //   图形验证失败\r\n              });\r\n            //   为此页面的虚拟按钮添加点击事件\r\n            _this.$refs.btn.addEventListener(\"click\", function demo() {\r\n              // 极验图片触发之后，修改控制变量额布尔值，实现再次触发\r\n              _this.$emit(\"clickChange\", false);\r\n              if (_this.isGeet) {\r\n                captchaObj.verify();\r\n              }\r\n            });\r\n          };\r\n          //   初始化极验\r\n          _this.$initGeet(\r\n            {\r\n              gt: data.data.gt,\r\n              challenge: data.data.challenge,\r\n              product: \"bind\",\r\n              offline: !data.data.success,\r\n              https: true\r\n            },\r\n            handlerEmbed\r\n          );\r\n        });\r\n    }\r\n  },\r\n\r\n  computed: {},\r\n\r\n  created() {\r\n    // 页面创建，调用函数\r\n    this.GtCaptcha();\r\n  },\r\n\r\n  mounted() {},\r\n  watch: {\r\n    // 监听参数的变化，调用极验\r\n    isGeet: function() {\r\n      //   这里通过按钮事件调用极验\r\n      this.$refs.btn.click();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped></style>\r\n"],"sourceRoot":"src/components"}]}