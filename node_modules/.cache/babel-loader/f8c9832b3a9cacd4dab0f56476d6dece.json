{"remainingRequest":"C:\\Users\\abcd\\Desktop\\newPeople\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\newPeople\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\newPeople\\src\\router\\index.js","mtime":1600855662461},{"path":"C:\\Users\\abcd\\Desktop\\newPeople\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\newPeople\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBnZXRSZWNvbWVuZElkLCBzZXRSZWNvbWVuZElkLCBzZXRLZXksIGdldEtleSwgY2xlYXJUb2tlbiB9IGZyb20gIi4uL3N0b3JlL3VzZXIiOwppbXBvcnQgcmVzdG9yZVVybCBmcm9tICIuLi91dGlscy9yZXN0b3JlVXJsIjsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiL2xvZ2luIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9Mb2dpbiddLCByZXNvbHZlKTsKICB9Cn0sIHsKICBwYXRoOiAiLyIsCiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9Ib21lJ10sIHJlc29sdmUpOwogIH0gLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICAvLyBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovICcuLi92aWV3cy9BYm91dC52dWUnKQoKfSwgewogIHBhdGg6ICIvd2ViIiwKICBuYW1lOiAiV2ViIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICByZXR1cm4gcmVxdWlyZShbJ0Avdmlld3MvV2ViJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvd2VpeGluIiwKICBuYW1lOiAid2VpeGluIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICByZXR1cm4gcmVxdWlyZShbJ0Avdmlld3MvV2VpeGluJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvcnVsZSIsCiAgbmFtZTogInJ1bGUiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9SdWxlJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvdGlwcyIsCiAgbmFtZTogInRpcHMiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9UaXBzJ10sIHJlc29sdmUpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAiaGlzdG9yeSIsCiAgcm91dGVzOiByb3V0ZXMKfSk7Ci8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAvLyDlvq7kv6HliIbkuqvml7bvvIzlvq7kv6HkvJrlnKjlnLDlnYDmoI/mt7vliqDpop3lpJblj4LmlbAKICBpZiAocmVzdG9yZVVybC5pc1dlQ2hhdFVybCgpKSB7CiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3RvcmVVcmwuZ2V0UHJvamVjdFVybCgpOwogIH0KCiAgaWYgKHJlc3RvcmVVcmwuZ2V0S2V5KCkpIHsKICAgIHZhciB1cmwgPSByZXN0b3JlVXJsLmdldEtleSgpOwoKICAgIGlmIChnZXRLZXkoKSAhPSB1cmwpIHsKICAgICAgY2xlYXJUb2tlbigpOwogICAgfQogIH0KCiAgdmFyIHJlY29tZW5kSWQgPSBnZXRSZWNvbWVuZElkKCk7CiAgdmFyIGtleSA9IHJlc3RvcmVVcmwuZ2V0S2V5KCk7CgogIGlmIChrZXkpIHsKICAgIHNldEtleShrZXkpOwogIH0gLy8gaWYgKCFrZXkpIHsKICAvLyAgIGtleSA9IHJlc3RvcmVVcmwuZ2V0S2V5KCk7CiAgLy8gICBpZiAoa2V5KSB7CiAgLy8gICAgIHNldEtleShrZXkpOwogIC8vICAgfQogIC8vIH0KCgogIGlmICghcmVjb21lbmRJZCkgewogICAgcmVjb21lbmRJZCA9IHJlc3RvcmVVcmwuZ2V0UmVjb21lbmRJZCgpOwoKICAgIGlmIChyZWNvbWVuZElkKSB7CiAgICAgIHNldFJlY29tZW5kSWQocmVjb21lbmRJZCk7CiAgICB9CiAgfQoKICBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/abcd/Desktop/newPeople/src/router/index.js"],"names":["Vue","VueRouter","getRecomendId","setRecomendId","setKey","getKey","clearToken","restoreUrl","use","routes","path","name","component","resolve","require","router","mode","beforeEach","to","from","next","isWeChatUrl","window","location","href","getProjectUrl","url","recomendId","key"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport { getRecomendId, setRecomendId , setKey, getKey, clearToken } from \"../store/user\";\r\n\r\nimport restoreUrl from \"../utils/restoreUrl\";\r\n\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    component: resolve => require(['@/views/Login'],resolve),\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: resolve => require(['@/views/Home'],resolve),\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\r\n  },\r\n  {\r\n    path: \"/web\",\r\n    name: \"Web\",\r\n    component: resolve => require(['@/views/Web'],resolve),\r\n  },\r\n  {\r\n    path: \"/weixin\",\r\n    name: \"weixin\",\r\n    component: resolve => require(['@/views/Weixin'],resolve),\r\n  },\r\n  {\r\n    path: \"/rule\",\r\n    name: \"rule\",\r\n    component: resolve => require(['@/views/Rule'],resolve),\r\n  },{\r\n    path: \"/tips\",\r\n    name: \"tips\",\r\n    component: resolve => require(['@/views/Tips'],resolve),\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  routes,\r\n});\r\n\r\n/* eslint-disable no-unused-vars */\r\nrouter.beforeEach((to, from, next) => {\r\n  // 微信分享时，微信会在地址栏添加额外参数\r\n  if (restoreUrl.isWeChatUrl()) {\r\n    window.location.href = restoreUrl.getProjectUrl();\r\n  }\r\n\r\n \r\n  if(restoreUrl.getKey()) {\r\n    const url = restoreUrl.getKey();\r\n    if(getKey() != url) {\r\n      clearToken();\r\n    }\r\n  }\r\n \r\n \r\n\r\n  let recomendId = getRecomendId();\r\n  let key = restoreUrl.getKey();\r\n  if(key) {\r\n    setKey(key);\r\n  }\r\n  // if (!key) {\r\n  //   key = restoreUrl.getKey();\r\n  //   if (key) {\r\n  //     setKey(key);\r\n  //   }\r\n  // }\r\n\r\n\r\n  if (!recomendId) {\r\n    recomendId = restoreUrl.getRecomendId();\r\n    if (recomendId) {\r\n      setRecomendId(recomendId);\r\n    }\r\n  }\r\n\r\n  next();\r\n});\r\n\r\nexport default router;\r\n"]}]}