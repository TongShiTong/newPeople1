{"remainingRequest":"C:\\Users\\abcd\\Desktop\\新建文件夹 (2)\\activity-coupon\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\新建文件夹 (2)\\activity-coupon\\src\\api\\gt.js","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\新建文件夹 (2)\\activity-coupon\\src\\api\\gt.js","mtime":1597217939408},{"path":"C:\\Users\\abcd\\Desktop\\新建文件夹 (2)\\activity-coupon\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\新建文件夹 (2)\\activity-coupon\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSIpOwoKdmFyIF90eXBlb2YgPSByZXF1aXJlKCJDOi9Vc2Vycy9hYmNkL0Rlc2t0b3AvXHU2NUIwXHU1RUZBXHU2NTg3XHU0RUY2XHU1OTM5ICgyKS9hY3Rpdml0eS1jb3Vwb24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgovKiBpbml0R2VldGVzdCAxLjAuMA0KICog55So5LqO5Yqg6L29aWTlr7nlupTnmoTpqozor4HnoIHlupPvvIzlubbmlK/mjIHlrpXmnLrmqKHlvI8NCiAqIOaatOmcsiBpbml0R2VldGVzdCDov5vooYzpqozor4HnoIHnmoTliJ3lp4vljJYNCiAqIOS4gOiIrOS4jemcgOimgeeUqOaIt+i/m+ihjOS/ruaUuQ0KICovCihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7CiAgInVzZSBzdHJpY3QiOwoKICBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09PSAib2JqZWN0IiAmJiBfdHlwZW9mKG1vZHVsZS5leHBvcnRzKSA9PT0gIm9iamVjdCIpIHsKICAgIC8vIENvbW1vbkpTCiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/IGZhY3RvcnkoZ2xvYmFsLCB0cnVlKSA6IGZ1bmN0aW9uICh3KSB7CiAgICAgIGlmICghdy5kb2N1bWVudCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiR2VldGVzdCByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhY3Rvcnkodyk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGdsb2JhbCk7CiAgfQp9KSh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uICh3aW5kb3csIG5vR2xvYmFsKSB7CiAgInVzZSBzdHJpY3QiOwoKICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIHRocm93IG5ldyBFcnJvcignR2VldGVzdCByZXF1aXJlcyBicm93c2VyIGVudmlyb25tZW50Jyk7CiAgfQoKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgdmFyIE1hdGggPSB3aW5kb3cuTWF0aDsKICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07CgogIGZ1bmN0aW9uIF9PYmplY3Qob2JqKSB7CiAgICB0aGlzLl9vYmogPSBvYmo7CiAgfQoKICBfT2JqZWN0LnByb3RvdHlwZSA9IHsKICAgIF9lYWNoOiBmdW5jdGlvbiBfZWFjaChwcm9jZXNzKSB7CiAgICAgIHZhciBfb2JqID0gdGhpcy5fb2JqOwoKICAgICAgZm9yICh2YXIgayBpbiBfb2JqKSB7CiAgICAgICAgaWYgKF9vYmouaGFzT3duUHJvcGVydHkoaykpIHsKICAgICAgICAgIHByb2Nlc3MoaywgX29ialtrXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBDb25maWcoY29uZmlnKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgbmV3IF9PYmplY3QoY29uZmlnKS5fZWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgICBzZWxmW2tleV0gPSB2YWx1ZTsKICAgIH0pOwogIH0KCiAgQ29uZmlnLnByb3RvdHlwZSA9IHsKICAgIGFwaV9zZXJ2ZXI6ICdhcGkuZ2VldGVzdC5jb20nLAogICAgcHJvdG9jb2w6ICdodHRwOi8vJywKICAgIHR5cGVfcGF0aDogJy9nZXR0eXBlLnBocCcsCiAgICBmYWxsYmFja19jb25maWc6IHsKICAgICAgc2xpZGU6IHsKICAgICAgICBzdGF0aWNfc2VydmVyczogWyJzdGF0aWMuZ2VldGVzdC5jb20iLCAiZG4tc3RhdGljZG93bi5xYm94Lm1lIl0sCiAgICAgICAgdHlwZTogJ3NsaWRlJywKICAgICAgICBzbGlkZTogJy9zdGF0aWMvanMvZ2VldGVzdC4wLjAuMC5qcycKICAgICAgfSwKICAgICAgZnVsbHBhZ2U6IHsKICAgICAgICBzdGF0aWNfc2VydmVyczogWyJzdGF0aWMuZ2VldGVzdC5jb20iLCAiZG4tc3RhdGljZG93bi5xYm94Lm1lIl0sCiAgICAgICAgdHlwZTogJ2Z1bGxwYWdlJywKICAgICAgICBmdWxscGFnZTogJy9zdGF0aWMvanMvZnVsbHBhZ2UuMC4wLjAuanMnCiAgICAgIH0KICAgIH0sCiAgICBfZ2V0X2ZhbGxiYWNrX2NvbmZpZzogZnVuY3Rpb24gX2dldF9mYWxsYmFja19jb25maWcoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIGlmIChpc1N0cmluZyhzZWxmLnR5cGUpKSB7CiAgICAgICAgcmV0dXJuIHNlbGYuZmFsbGJhY2tfY29uZmlnW3NlbGYudHlwZV07CiAgICAgIH0gZWxzZSBpZiAoc2VsZi5uZXdfY2FwdGNoYSkgewogICAgICAgIHJldHVybiBzZWxmLmZhbGxiYWNrX2NvbmZpZy5mdWxscGFnZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc2VsZi5mYWxsYmFja19jb25maWcuc2xpZGU7CiAgICAgIH0KICAgIH0sCiAgICBfZXh0ZW5kOiBmdW5jdGlvbiBfZXh0ZW5kKG9iaikgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICBuZXcgX09iamVjdChvYmopLl9lYWNoKGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICAgICAgc2VsZltrZXldID0gdmFsdWU7CiAgICAgIH0pOwogICAgfQogIH07CgogIHZhciBpc051bWJlciA9IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7CiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzsKICB9OwoKICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkgewogICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7CiAgfTsKCiAgdmFyIGlzQm9vbGVhbiA9IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkgewogICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nOwogIH07CgogIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7CiAgICByZXR1cm4gX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsOwogIH07CgogIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzsKICB9OwoKICB2YXIgY2FsbGJhY2tzID0ge307CiAgdmFyIHN0YXR1cyA9IHt9OwoKICB2YXIgcmFuZG9tID0gZnVuY3Rpb24gcmFuZG9tKCkgewogICAgcmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxMDAwMCkgKyBuZXcgRGF0ZSgpLnZhbHVlT2YoKTsKICB9OwoKICB2YXIgbG9hZFNjcmlwdCA9IGZ1bmN0aW9uIGxvYWRTY3JpcHQodXJsLCBjYikgewogICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgc2NyaXB0LmNoYXJzZXQgPSAiVVRGLTgiOwogICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKCiAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgY2IodHJ1ZSk7CiAgICB9OwoKICAgIHZhciBsb2FkZWQgPSBmYWxzZTsKCiAgICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFsb2FkZWQgJiYgKCFzY3JpcHQucmVhZHlTdGF0ZSB8fCAibG9hZGVkIiA9PT0gc2NyaXB0LnJlYWR5U3RhdGUgfHwgImNvbXBsZXRlIiA9PT0gc2NyaXB0LnJlYWR5U3RhdGUpKSB7CiAgICAgICAgbG9hZGVkID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNiKGZhbHNlKTsKICAgICAgICB9LCAwKTsKICAgICAgfQogICAgfTsKCiAgICBzY3JpcHQuc3JjID0gdXJsOwogICAgaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogIH07CgogIHZhciBub3JtYWxpemVEb21haW4gPSBmdW5jdGlvbiBub3JtYWxpemVEb21haW4oZG9tYWluKSB7CiAgICByZXR1cm4gZG9tYWluLnJlcGxhY2UoL15odHRwcz86XC9cL3xcLyQvZywgJycpOwogIH07CgogIHZhciBub3JtYWxpemVQYXRoID0gZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXRoKSB7CiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cLysvZywgJy8nKTsKCiAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgIT09IDApIHsKICAgICAgcGF0aCA9ICcvJyArIHBhdGg7CiAgICB9CgogICAgcmV0dXJuIHBhdGg7CiAgfTsKCiAgdmFyIG5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24gbm9ybWFsaXplUXVlcnkocXVlcnkpIHsKICAgIGlmICghcXVlcnkpIHsKICAgICAgcmV0dXJuICcnOwogICAgfQoKICAgIHZhciBxID0gJz8nOwoKICAgIG5ldyBfT2JqZWN0KHF1ZXJ5KS5fZWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzTnVtYmVyKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7CiAgICAgICAgcSA9IHEgKyBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAnJic7CiAgICAgIH0KICAgIH0pOwoKICAgIGlmIChxID09PSAnPycpIHsKICAgICAgcSA9ICcnOwogICAgfQoKICAgIHJldHVybiBxLnJlcGxhY2UoLyYkLywgJycpOwogIH07CgogIHZhciBtYWtlVVJMID0gZnVuY3Rpb24gbWFrZVVSTChwcm90b2NvbCwgZG9tYWluLCBwYXRoLCBxdWVyeSkgewogICAgZG9tYWluID0gbm9ybWFsaXplRG9tYWluKGRvbWFpbik7CiAgICB2YXIgdXJsID0gbm9ybWFsaXplUGF0aChwYXRoKSArIG5vcm1hbGl6ZVF1ZXJ5KHF1ZXJ5KTsKCiAgICBpZiAoZG9tYWluKSB7CiAgICAgIHVybCA9IHByb3RvY29sICsgZG9tYWluICsgdXJsOwogICAgfQoKICAgIHJldHVybiB1cmw7CiAgfTsKCiAgdmFyIGxvYWQgPSBmdW5jdGlvbiBsb2FkKHByb3RvY29sLCBkb21haW5zLCBwYXRoLCBxdWVyeSwgY2IpIHsKICAgIHZhciB0cnlSZXF1ZXN0ID0gZnVuY3Rpb24gdHJ5UmVxdWVzdChhdCkgewogICAgICB2YXIgdXJsID0gbWFrZVVSTChwcm90b2NvbCwgZG9tYWluc1thdF0sIHBhdGgsIHF1ZXJ5KTsKICAgICAgbG9hZFNjcmlwdCh1cmwsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBpZiAoYXQgPj0gZG9tYWlucy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIGNiKHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdHJ5UmVxdWVzdChhdCArIDEpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYihmYWxzZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgdHJ5UmVxdWVzdCgwKTsKICB9OwoKICB2YXIganNvbnAgPSBmdW5jdGlvbiBqc29ucChkb21haW5zLCBwYXRoLCBjb25maWcsIGNhbGxiYWNrKSB7CiAgICBpZiAoaXNPYmplY3QoY29uZmlnLmdldExpYikpIHsKICAgICAgY29uZmlnLl9leHRlbmQoY29uZmlnLmdldExpYik7CgogICAgICBjYWxsYmFjayhjb25maWcpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGNvbmZpZy5vZmZsaW5lKSB7CiAgICAgIGNhbGxiYWNrKGNvbmZpZy5fZ2V0X2ZhbGxiYWNrX2NvbmZpZygpKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjYiA9ICJnZWV0ZXN0XyIgKyByYW5kb20oKTsKCiAgICB3aW5kb3dbY2JdID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHsKICAgICAgICBjYWxsYmFjayhkYXRhLmRhdGEpOwogICAgICB9IGVsc2UgaWYgKCFkYXRhLnN0YXR1cykgewogICAgICAgIGNhbGxiYWNrKGRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKGNvbmZpZy5fZ2V0X2ZhbGxiYWNrX2NvbmZpZygpKTsKICAgICAgfQoKICAgICAgd2luZG93W2NiXSA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZGVsZXRlIHdpbmRvd1tjYl07CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9OwoKICAgIGxvYWQoY29uZmlnLnByb3RvY29sLCBkb21haW5zLCBwYXRoLCB7CiAgICAgIGd0OiBjb25maWcuZ3QsCiAgICAgIGNhbGxiYWNrOiBjYgogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBpZiAoZXJyKSB7CiAgICAgICAgY2FsbGJhY2soY29uZmlnLl9nZXRfZmFsbGJhY2tfY29uZmlnKCkpOwogICAgICB9CiAgICB9KTsKICB9OwoKICB2YXIgdGhyb3dFcnJvciA9IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JUeXBlLCBjb25maWcpIHsKICAgIHZhciBlcnJvcnMgPSB7CiAgICAgIG5ldHdvcmtFcnJvcjogJ+e9kee7nOmUmeivrycKICAgIH07CgogICAgaWYgKHR5cGVvZiBjb25maWcub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBjb25maWcub25FcnJvcihlcnJvcnNbZXJyb3JUeXBlXSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzW2Vycm9yVHlwZV0pOwogICAgfQogIH07CgogIHZhciBkZXRlY3QgPSBmdW5jdGlvbiBkZXRlY3QoKSB7CiAgICByZXR1cm4gISF3aW5kb3cuR2VldGVzdDsKICB9OwoKICBpZiAoZGV0ZWN0KCkpIHsKICAgIHN0YXR1cy5zbGlkZSA9ICJsb2FkZWQiOwogIH0KCiAgdmFyIGluaXRHZWV0ZXN0ID0gZnVuY3Rpb24gaW5pdEdlZXRlc3QodXNlckNvbmZpZywgY2FsbGJhY2spIHsKICAgIHZhciBjb25maWcgPSBuZXcgQ29uZmlnKHVzZXJDb25maWcpOwoKICAgIGlmICh1c2VyQ29uZmlnLmh0dHBzKSB7CiAgICAgIGNvbmZpZy5wcm90b2NvbCA9ICdodHRwczovLyc7CiAgICB9IGVsc2UgaWYgKCF1c2VyQ29uZmlnLnByb3RvY29sKSB7CiAgICAgIGNvbmZpZy5wcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLyc7CiAgICB9CgogICAganNvbnAoW2NvbmZpZy5hcGlfc2VydmVyIHx8IGNvbmZpZy5hcGlzZXJ2ZXJdLCBjb25maWcudHlwZV9wYXRoLCBjb25maWcsIGZ1bmN0aW9uIChuZXdDb25maWcpIHsKICAgICAgdmFyIHR5cGUgPSBuZXdDb25maWcudHlwZTsKCiAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICBjb25maWcuX2V4dGVuZChuZXdDb25maWcpOwoKICAgICAgICBjYWxsYmFjayhuZXcgd2luZG93LkdlZXRlc3QoY29uZmlnKSk7CiAgICAgIH07CgogICAgICBjYWxsYmFja3NbdHlwZV0gPSBjYWxsYmFja3NbdHlwZV0gfHwgW107CiAgICAgIHZhciBzID0gc3RhdHVzW3R5cGVdIHx8ICdpbml0JzsKCiAgICAgIGlmIChzID09PSAnaW5pdCcpIHsKICAgICAgICBzdGF0dXNbdHlwZV0gPSAnbG9hZGluZyc7CiAgICAgICAgY2FsbGJhY2tzW3R5cGVdLnB1c2goaW5pdCk7CiAgICAgICAgbG9hZChjb25maWcucHJvdG9jb2wsIG5ld0NvbmZpZy5zdGF0aWNfc2VydmVycyB8fCBuZXdDb25maWcuZG9tYWlucywgbmV3Q29uZmlnW3R5cGVdIHx8IG5ld0NvbmZpZy5wYXRoLCBudWxsLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgIHN0YXR1c1t0eXBlXSA9ICdmYWlsJzsKICAgICAgICAgICAgdGhyb3dFcnJvcignbmV0d29ya0Vycm9yJywgY29uZmlnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0YXR1c1t0eXBlXSA9ICdsb2FkZWQnOwogICAgICAgICAgICB2YXIgY2JzID0gY2FsbGJhY2tzW3R5cGVdOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNicy5sZW5ndGg7IGkgPCBsZW47IGkgPSBpICsgMSkgewogICAgICAgICAgICAgIHZhciBjYiA9IGNic1tpXTsKCiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2IpKSB7CiAgICAgICAgICAgICAgICBjYigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FsbGJhY2tzW3R5cGVdID0gW107CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAocyA9PT0gImxvYWRlZCIpIHsKICAgICAgICBpbml0KCk7CiAgICAgIH0gZWxzZSBpZiAocyA9PT0gImZhaWwiKSB7CiAgICAgICAgdGhyb3dFcnJvcignbmV0d29ya0Vycm9yJywgY29uZmlnKTsKICAgICAgfSBlbHNlIGlmIChzID09PSAibG9hZGluZyIpIHsKICAgICAgICBjYWxsYmFja3NbdHlwZV0ucHVzaChpbml0KTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgd2luZG93LmluaXRHZWV0ZXN0ID0gaW5pdEdlZXRlc3Q7CiAgcmV0dXJuIGluaXRHZWV0ZXN0Owp9KTs="},{"version":3,"sources":["C:/Users/abcd/Desktop/新建文件夹 (2)/activity-coupon/src/api/gt.js"],"names":["global","factory","module","exports","document","w","Error","window","noGlobal","Math","head","getElementsByTagName","_Object","obj","_obj","prototype","_each","process","k","hasOwnProperty","Config","config","self","key","value","api_server","protocol","type_path","fallback_config","slide","static_servers","type","fullpage","_get_fallback_config","isString","new_captcha","_extend","isNumber","isBoolean","isObject","isFunction","callbacks","status","random","parseInt","Date","valueOf","loadScript","url","cb","script","createElement","charset","async","onerror","loaded","onload","onreadystatechange","readyState","setTimeout","src","appendChild","normalizeDomain","domain","replace","normalizePath","path","indexOf","normalizeQuery","query","q","encodeURIComponent","makeURL","load","domains","tryRequest","at","err","length","jsonp","callback","getLib","offline","data","undefined","e","gt","throwError","errorType","errors","networkError","onError","detect","Geetest","initGeetest","userConfig","https","location","apiserver","newConfig","init","s","push","cbs","i","len"],"mappings":";;;;;;;;AAAA;;;;;AAKA,CAAC,UAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AACxB;;AACA,MAAI,QAAOC,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,QAAOA,MAAM,CAACC,OAAd,MAA0B,QAA5D,EAAsE;AAClE;AACAD,IAAAA,MAAM,CAACC,OAAP,GAAiBH,MAAM,CAACI,QAAP,GACbH,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUK,CAAV,EAAa;AACT,UAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,cAAM,IAAIE,KAAJ,CAAU,2CAAV,CAAN;AACH;;AACD,aAAOL,OAAO,CAACI,CAAD,CAAd;AACH,KAPL;AAQH,GAVD,MAUO;AACHJ,IAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,CAfD,EAeG,OAAOO,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAf5C,EAekD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AAC1E;;AACA,MAAI,OAAOD,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,UAAM,IAAID,KAAJ,CAAU,sCAAV,CAAN;AACH;;AACD,MAAIF,QAAQ,GAAGG,MAAM,CAACH,QAAtB;AACA,MAAIK,IAAI,GAAGF,MAAM,CAACE,IAAlB;AACA,MAAIC,IAAI,GAAGN,QAAQ,CAACO,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAX;;AAEA,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,SAAKC,IAAL,GAAYD,GAAZ;AACH;;AAEDD,EAAAA,OAAO,CAACG,SAAR,GAAoB;AAChBC,IAAAA,KAAK,EAAE,eAAUC,OAAV,EAAmB;AACtB,UAAIH,IAAI,GAAG,KAAKA,IAAhB;;AACA,WAAK,IAAII,CAAT,IAAcJ,IAAd,EAAoB;AAChB,YAAIA,IAAI,CAACK,cAAL,CAAoBD,CAApB,CAAJ,EAA4B;AACxBD,UAAAA,OAAO,CAACC,CAAD,EAAIJ,IAAI,CAACI,CAAD,CAAR,CAAP;AACH;AACJ;;AACD,aAAO,IAAP;AACH;AATe,GAApB;;AAWA,WAASE,MAAT,CAAgBC,MAAhB,EAAwB;AACpB,QAAIC,IAAI,GAAG,IAAX;;AACA,QAAIV,OAAJ,CAAYS,MAAZ,EAAoBL,KAApB,CAA0B,UAAUO,GAAV,EAAeC,KAAf,EAAsB;AAC5CF,MAAAA,IAAI,CAACC,GAAD,CAAJ,GAAYC,KAAZ;AACH,KAFD;AAGH;;AAEDJ,EAAAA,MAAM,CAACL,SAAP,GAAmB;AACfU,IAAAA,UAAU,EAAE,iBADG;AAEfC,IAAAA,QAAQ,EAAE,SAFK;AAGfC,IAAAA,SAAS,EAAE,cAHI;AAIfC,IAAAA,eAAe,EAAE;AACbC,MAAAA,KAAK,EAAE;AACHC,QAAAA,cAAc,EAAE,CAAC,oBAAD,EAAuB,uBAAvB,CADb;AAEHC,QAAAA,IAAI,EAAE,OAFH;AAGHF,QAAAA,KAAK,EAAE;AAHJ,OADM;AAMbG,MAAAA,QAAQ,EAAE;AACNF,QAAAA,cAAc,EAAE,CAAC,oBAAD,EAAuB,uBAAvB,CADV;AAENC,QAAAA,IAAI,EAAE,UAFA;AAGNC,QAAAA,QAAQ,EAAE;AAHJ;AANG,KAJF;AAgBfC,IAAAA,oBAAoB,EAAE,gCAAY;AAC9B,UAAIX,IAAI,GAAG,IAAX;;AACA,UAAIY,QAAQ,CAACZ,IAAI,CAACS,IAAN,CAAZ,EAAyB;AACrB,eAAOT,IAAI,CAACM,eAAL,CAAqBN,IAAI,CAACS,IAA1B,CAAP;AACH,OAFD,MAEO,IAAIT,IAAI,CAACa,WAAT,EAAsB;AACzB,eAAOb,IAAI,CAACM,eAAL,CAAqBI,QAA5B;AACH,OAFM,MAEA;AACH,eAAOV,IAAI,CAACM,eAAL,CAAqBC,KAA5B;AACH;AACJ,KAzBc;AA0BfO,IAAAA,OAAO,EAAE,iBAAUvB,GAAV,EAAe;AACpB,UAAIS,IAAI,GAAG,IAAX;;AACA,UAAIV,OAAJ,CAAYC,GAAZ,EAAiBG,KAAjB,CAAuB,UAAUO,GAAV,EAAeC,KAAf,EAAsB;AACzCF,QAAAA,IAAI,CAACC,GAAD,CAAJ,GAAYC,KAAZ;AACH,OAFD;AAGH;AA/Bc,GAAnB;;AAiCA,MAAIa,QAAQ,GAAG,SAAXA,QAAW,CAAUb,KAAV,EAAiB;AAC5B,WAAQ,OAAOA,KAAP,KAAiB,QAAzB;AACH,GAFD;;AAGA,MAAIU,QAAQ,GAAG,SAAXA,QAAW,CAAUV,KAAV,EAAiB;AAC5B,WAAQ,OAAOA,KAAP,KAAiB,QAAzB;AACH,GAFD;;AAGA,MAAIc,SAAS,GAAG,SAAZA,SAAY,CAAUd,KAAV,EAAiB;AAC7B,WAAQ,OAAOA,KAAP,KAAiB,SAAzB;AACH,GAFD;;AAGA,MAAIe,QAAQ,GAAG,SAAXA,QAAW,CAAUf,KAAV,EAAiB;AAC5B,WAAQ,QAAOA,KAAP,MAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAA/C;AACH,GAFD;;AAGA,MAAIgB,UAAU,GAAG,SAAbA,UAAa,CAAUhB,KAAV,EAAiB;AAC9B,WAAQ,OAAOA,KAAP,KAAiB,UAAzB;AACH,GAFD;;AAGA,MAAIiB,SAAS,GAAG,EAAhB;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIC,MAAM,GAAG,SAATA,MAAS,GAAY;AACrB,WAAOC,QAAQ,CAACnC,IAAI,CAACkC,MAAL,KAAgB,KAAjB,CAAR,GAAmC,IAAIE,IAAJ,EAAD,CAAaC,OAAb,EAAzC;AACH,GAFD;;AAGA,MAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,GAAV,EAAeC,EAAf,EAAmB;AAChC,QAAIC,MAAM,GAAG9C,QAAQ,CAAC+C,aAAT,CAAuB,QAAvB,CAAb;AACAD,IAAAA,MAAM,CAACE,OAAP,GAAiB,OAAjB;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAe,IAAf;;AACAH,IAAAA,MAAM,CAACI,OAAP,GAAiB,YAAY;AACzBL,MAAAA,EAAE,CAAC,IAAD,CAAF;AACH,KAFD;;AAGA,QAAIM,MAAM,GAAG,KAAb;;AACAL,IAAAA,MAAM,CAACM,MAAP,GAAgBN,MAAM,CAACO,kBAAP,GAA4B,YAAY;AACpD,UAAI,CAACF,MAAD,KACC,CAACL,MAAM,CAACQ,UAAR,IACD,aAAaR,MAAM,CAACQ,UADnB,IAED,eAAeR,MAAM,CAACQ,UAHtB,CAAJ,EAGuC;AAEnCH,QAAAA,MAAM,GAAG,IAAT;AACAI,QAAAA,UAAU,CAAC,YAAY;AACnBV,UAAAA,EAAE,CAAC,KAAD,CAAF;AACH,SAFS,EAEP,CAFO,CAAV;AAGH;AACJ,KAXD;;AAYAC,IAAAA,MAAM,CAACU,GAAP,GAAaZ,GAAb;AACAtC,IAAAA,IAAI,CAACmD,WAAL,CAAiBX,MAAjB;AACH,GAtBD;;AAuBA,MAAIY,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,MAAV,EAAkB;AACpC,WAAOA,MAAM,CAACC,OAAP,CAAe,mBAAf,EAAoC,EAApC,CAAP;AACH,GAFD;;AAGA,MAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,IAAV,EAAgB;AAChCA,IAAAA,IAAI,GAAGA,IAAI,CAACF,OAAL,CAAa,MAAb,EAAqB,GAArB,CAAP;;AACA,QAAIE,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAA1B,EAA6B;AACzBD,MAAAA,IAAI,GAAG,MAAMA,IAAb;AACH;;AACD,WAAOA,IAAP;AACH,GAND;;AAOA,MAAIE,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,KAAV,EAAiB;AAClC,QAAI,CAACA,KAAL,EAAY;AACR,aAAO,EAAP;AACH;;AACD,QAAIC,CAAC,GAAG,GAAR;;AACA,QAAI1D,OAAJ,CAAYyD,KAAZ,EAAmBrD,KAAnB,CAAyB,UAAUO,GAAV,EAAeC,KAAf,EAAsB;AAC3C,UAAIU,QAAQ,CAACV,KAAD,CAAR,IAAmBa,QAAQ,CAACb,KAAD,CAA3B,IAAsCc,SAAS,CAACd,KAAD,CAAnD,EAA4D;AACxD8C,QAAAA,CAAC,GAAGA,CAAC,GAAGC,kBAAkB,CAAChD,GAAD,CAAtB,GAA8B,GAA9B,GAAoCgD,kBAAkB,CAAC/C,KAAD,CAAtD,GAAgE,GAApE;AACH;AACJ,KAJD;;AAKA,QAAI8C,CAAC,KAAK,GAAV,EAAe;AACXA,MAAAA,CAAC,GAAG,EAAJ;AACH;;AACD,WAAOA,CAAC,CAACN,OAAF,CAAU,IAAV,EAAgB,EAAhB,CAAP;AACH,GAdD;;AAeA,MAAIQ,OAAO,GAAG,SAAVA,OAAU,CAAU9C,QAAV,EAAoBqC,MAApB,EAA4BG,IAA5B,EAAkCG,KAAlC,EAAyC;AACnDN,IAAAA,MAAM,GAAGD,eAAe,CAACC,MAAD,CAAxB;AAEA,QAAIf,GAAG,GAAGiB,aAAa,CAACC,IAAD,CAAb,GAAsBE,cAAc,CAACC,KAAD,CAA9C;;AACA,QAAIN,MAAJ,EAAY;AACRf,MAAAA,GAAG,GAAGtB,QAAQ,GAAGqC,MAAX,GAAoBf,GAA1B;AACH;;AAED,WAAOA,GAAP;AACH,GATD;;AAUA,MAAIyB,IAAI,GAAG,SAAPA,IAAO,CAAU/C,QAAV,EAAoBgD,OAApB,EAA6BR,IAA7B,EAAmCG,KAAnC,EAA0CpB,EAA1C,EAA8C;AACrD,QAAI0B,UAAU,GAAG,SAAbA,UAAa,CAAUC,EAAV,EAAc;AAE3B,UAAI5B,GAAG,GAAGwB,OAAO,CAAC9C,QAAD,EAAWgD,OAAO,CAACE,EAAD,CAAlB,EAAwBV,IAAxB,EAA8BG,KAA9B,CAAjB;AACAtB,MAAAA,UAAU,CAACC,GAAD,EAAM,UAAU6B,GAAV,EAAe;AAC3B,YAAIA,GAAJ,EAAS;AACL,cAAID,EAAE,IAAIF,OAAO,CAACI,MAAR,GAAiB,CAA3B,EAA8B;AAC1B7B,YAAAA,EAAE,CAAC,IAAD,CAAF;AACH,WAFD,MAEO;AACH0B,YAAAA,UAAU,CAACC,EAAE,GAAG,CAAN,CAAV;AACH;AACJ,SAND,MAMO;AACH3B,UAAAA,EAAE,CAAC,KAAD,CAAF;AACH;AACJ,OAVS,CAAV;AAWH,KAdD;;AAeA0B,IAAAA,UAAU,CAAC,CAAD,CAAV;AACH,GAjBD;;AAkBA,MAAII,KAAK,GAAG,SAARA,KAAQ,CAAUL,OAAV,EAAmBR,IAAnB,EAAyB7C,MAAzB,EAAiC2D,QAAjC,EAA2C;AACnD,QAAIzC,QAAQ,CAAClB,MAAM,CAAC4D,MAAR,CAAZ,EAA6B;AACzB5D,MAAAA,MAAM,CAACe,OAAP,CAAef,MAAM,CAAC4D,MAAtB;;AACAD,MAAAA,QAAQ,CAAC3D,MAAD,CAAR;AACA;AACH;;AACD,QAAIA,MAAM,CAAC6D,OAAX,EAAoB;AAChBF,MAAAA,QAAQ,CAAC3D,MAAM,CAACY,oBAAP,EAAD,CAAR;AACA;AACH;;AACD,QAAIgB,EAAE,GAAG,aAAaN,MAAM,EAA5B;;AACApC,IAAAA,MAAM,CAAC0C,EAAD,CAAN,GAAa,UAAUkC,IAAV,EAAgB;AACzB,UAAIA,IAAI,CAACzC,MAAL,KAAgB,SAApB,EAA+B;AAC3BsC,QAAAA,QAAQ,CAACG,IAAI,CAACA,IAAN,CAAR;AACH,OAFD,MAEO,IAAI,CAACA,IAAI,CAACzC,MAAV,EAAkB;AACrBsC,QAAAA,QAAQ,CAACG,IAAD,CAAR;AACH,OAFM,MAEA;AACHH,QAAAA,QAAQ,CAAC3D,MAAM,CAACY,oBAAP,EAAD,CAAR;AACH;;AACD1B,MAAAA,MAAM,CAAC0C,EAAD,CAAN,GAAamC,SAAb;;AACA,UAAI;AACA,eAAO7E,MAAM,CAAC0C,EAAD,CAAb;AACH,OAFD,CAEE,OAAOoC,CAAP,EAAU,CACX;AACJ,KAbD;;AAcAZ,IAAAA,IAAI,CAACpD,MAAM,CAACK,QAAR,EAAkBgD,OAAlB,EAA2BR,IAA3B,EAAiC;AACjCoB,MAAAA,EAAE,EAAEjE,MAAM,CAACiE,EADsB;AAEjCN,MAAAA,QAAQ,EAAE/B;AAFuB,KAAjC,EAGD,UAAU4B,GAAV,EAAe;AACd,UAAIA,GAAJ,EAAS;AACLG,QAAAA,QAAQ,CAAC3D,MAAM,CAACY,oBAAP,EAAD,CAAR;AACH;AACJ,KAPG,CAAJ;AAQH,GAjCD;;AAkCA,MAAIsD,UAAU,GAAG,SAAbA,UAAa,CAAUC,SAAV,EAAqBnE,MAArB,EAA6B;AAC1C,QAAIoE,MAAM,GAAG;AACTC,MAAAA,YAAY,EAAE;AADL,KAAb;;AAGA,QAAI,OAAOrE,MAAM,CAACsE,OAAd,KAA0B,UAA9B,EAA0C;AACtCtE,MAAAA,MAAM,CAACsE,OAAP,CAAeF,MAAM,CAACD,SAAD,CAArB;AACH,KAFD,MAEO;AACH,YAAM,IAAIlF,KAAJ,CAAUmF,MAAM,CAACD,SAAD,CAAhB,CAAN;AACH;AACJ,GATD;;AAUA,MAAII,MAAM,GAAG,SAATA,MAAS,GAAY;AACrB,WAAO,CAAC,CAACrF,MAAM,CAACsF,OAAhB;AACH,GAFD;;AAGA,MAAID,MAAM,EAAV,EAAc;AACVlD,IAAAA,MAAM,CAACb,KAAP,GAAe,QAAf;AACH;;AACD,MAAIiE,WAAW,GAAG,SAAdA,WAAc,CAAUC,UAAV,EAAsBf,QAAtB,EAAgC;AAC9C,QAAI3D,MAAM,GAAG,IAAID,MAAJ,CAAW2E,UAAX,CAAb;;AACA,QAAIA,UAAU,CAACC,KAAf,EAAsB;AAClB3E,MAAAA,MAAM,CAACK,QAAP,GAAkB,UAAlB;AACH,KAFD,MAEO,IAAI,CAACqE,UAAU,CAACrE,QAAhB,EAA0B;AAC7BL,MAAAA,MAAM,CAACK,QAAP,GAAkBnB,MAAM,CAAC0F,QAAP,CAAgBvE,QAAhB,GAA2B,IAA7C;AACH;;AACDqD,IAAAA,KAAK,CAAC,CAAC1D,MAAM,CAACI,UAAP,IAAqBJ,MAAM,CAAC6E,SAA7B,CAAD,EAA0C7E,MAAM,CAACM,SAAjD,EAA4DN,MAA5D,EAAoE,UAAU8E,SAAV,EAAqB;AAC1F,UAAIpE,IAAI,GAAGoE,SAAS,CAACpE,IAArB;;AACA,UAAIqE,IAAI,GAAG,SAAPA,IAAO,GAAY;AACnB/E,QAAAA,MAAM,CAACe,OAAP,CAAe+D,SAAf;;AACAnB,QAAAA,QAAQ,CAAC,IAAIzE,MAAM,CAACsF,OAAX,CAAmBxE,MAAnB,CAAD,CAAR;AACH,OAHD;;AAIAoB,MAAAA,SAAS,CAACV,IAAD,CAAT,GAAkBU,SAAS,CAACV,IAAD,CAAT,IAAmB,EAArC;AACA,UAAIsE,CAAC,GAAG3D,MAAM,CAACX,IAAD,CAAN,IAAgB,MAAxB;;AACA,UAAIsE,CAAC,KAAK,MAAV,EAAkB;AACd3D,QAAAA,MAAM,CAACX,IAAD,CAAN,GAAe,SAAf;AACAU,QAAAA,SAAS,CAACV,IAAD,CAAT,CAAgBuE,IAAhB,CAAqBF,IAArB;AACA3B,QAAAA,IAAI,CAACpD,MAAM,CAACK,QAAR,EAAkByE,SAAS,CAACrE,cAAV,IAA4BqE,SAAS,CAACzB,OAAxD,EAAiEyB,SAAS,CAACpE,IAAD,CAAT,IAAmBoE,SAAS,CAACjC,IAA9F,EAAoG,IAApG,EAA0G,UAAUW,GAAV,EAAe;AACzH,cAAIA,GAAJ,EAAS;AACLnC,YAAAA,MAAM,CAACX,IAAD,CAAN,GAAe,MAAf;AACAwD,YAAAA,UAAU,CAAC,cAAD,EAAiBlE,MAAjB,CAAV;AACH,WAHD,MAGO;AACHqB,YAAAA,MAAM,CAACX,IAAD,CAAN,GAAe,QAAf;AACA,gBAAIwE,GAAG,GAAG9D,SAAS,CAACV,IAAD,CAAnB;;AACA,iBAAK,IAAIyE,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGF,GAAG,CAACzB,MAA1B,EAAkC0B,CAAC,GAAGC,GAAtC,EAA2CD,CAAC,GAAGA,CAAC,GAAG,CAAnD,EAAsD;AAClD,kBAAIvD,EAAE,GAAGsD,GAAG,CAACC,CAAD,CAAZ;;AACA,kBAAIhE,UAAU,CAACS,EAAD,CAAd,EAAoB;AAChBA,gBAAAA,EAAE;AACL;AACJ;;AACDR,YAAAA,SAAS,CAACV,IAAD,CAAT,GAAkB,EAAlB;AACH;AACJ,SAfG,CAAJ;AAgBH,OAnBD,MAmBO,IAAIsE,CAAC,KAAK,QAAV,EAAoB;AACvBD,QAAAA,IAAI;AACP,OAFM,MAEA,IAAIC,CAAC,KAAK,MAAV,EAAkB;AACrBd,QAAAA,UAAU,CAAC,cAAD,EAAiBlE,MAAjB,CAAV;AACH,OAFM,MAEA,IAAIgF,CAAC,KAAK,SAAV,EAAqB;AACxB5D,QAAAA,SAAS,CAACV,IAAD,CAAT,CAAgBuE,IAAhB,CAAqBF,IAArB;AACH;AACJ,KAlCI,CAAL;AAmCH,GA1CD;;AA2CA7F,EAAAA,MAAM,CAACuF,WAAP,GAAqBA,WAArB;AACA,SAAOA,WAAP;AACH,CA9QD","sourcesContent":["/* initGeetest 1.0.0\r\n * 用于加载id对应的验证码库，并支持宕机模式\r\n * 暴露 initGeetest 进行验证码的初始化\r\n * 一般不需要用户进行修改\r\n */\r\n(function (global, factory) {\r\n    \"use strict\";\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        // CommonJS\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error(\"Geetest requires a window with a document\");\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n})(typeof window !== \"undefined\" ? window : this, function (window, noGlobal) {\r\n    \"use strict\";\r\n    if (typeof window === 'undefined') {\r\n        throw new Error('Geetest requires browser environment');\r\n    }\r\n    var document = window.document;\r\n    var Math = window.Math;\r\n    var head = document.getElementsByTagName(\"head\")[0];\r\n\r\n    function _Object(obj) {\r\n        this._obj = obj;\r\n    }\r\n\r\n    _Object.prototype = {\r\n        _each: function (process) {\r\n            var _obj = this._obj;\r\n            for (var k in _obj) {\r\n                if (_obj.hasOwnProperty(k)) {\r\n                    process(k, _obj[k]);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    function Config(config) {\r\n        var self = this;\r\n        new _Object(config)._each(function (key, value) {\r\n            self[key] = value;\r\n        });\r\n    }\r\n\r\n    Config.prototype = {\r\n        api_server: 'api.geetest.com',\r\n        protocol: 'http://',\r\n        type_path: '/gettype.php',\r\n        fallback_config: {\r\n            slide: {\r\n                static_servers: [\"static.geetest.com\", \"dn-staticdown.qbox.me\"],\r\n                type: 'slide',\r\n                slide: '/static/js/geetest.0.0.0.js'\r\n            },\r\n            fullpage: {\r\n                static_servers: [\"static.geetest.com\", \"dn-staticdown.qbox.me\"],\r\n                type: 'fullpage',\r\n                fullpage: '/static/js/fullpage.0.0.0.js'\r\n            }\r\n        },\r\n        _get_fallback_config: function () {\r\n            var self = this;\r\n            if (isString(self.type)) {\r\n                return self.fallback_config[self.type];\r\n            } else if (self.new_captcha) {\r\n                return self.fallback_config.fullpage;\r\n            } else {\r\n                return self.fallback_config.slide;\r\n            }\r\n        },\r\n        _extend: function (obj) {\r\n            var self = this;\r\n            new _Object(obj)._each(function (key, value) {\r\n                self[key] = value;\r\n            })\r\n        }\r\n    };\r\n    var isNumber = function (value) {\r\n        return (typeof value === 'number');\r\n    };\r\n    var isString = function (value) {\r\n        return (typeof value === 'string');\r\n    };\r\n    var isBoolean = function (value) {\r\n        return (typeof value === 'boolean');\r\n    };\r\n    var isObject = function (value) {\r\n        return (typeof value === 'object' && value !== null);\r\n    };\r\n    var isFunction = function (value) {\r\n        return (typeof value === 'function');\r\n    };\r\n    var callbacks = {};\r\n    var status = {};\r\n    var random = function () {\r\n        return parseInt(Math.random() * 10000) + (new Date()).valueOf();\r\n    };\r\n    var loadScript = function (url, cb) {\r\n        var script = document.createElement(\"script\");\r\n        script.charset = \"UTF-8\";\r\n        script.async = true;\r\n        script.onerror = function () {\r\n            cb(true);\r\n        };\r\n        var loaded = false;\r\n        script.onload = script.onreadystatechange = function () {\r\n            if (!loaded &&\r\n                (!script.readyState ||\r\n                \"loaded\" === script.readyState ||\r\n                \"complete\" === script.readyState)) {\r\n\r\n                loaded = true;\r\n                setTimeout(function () {\r\n                    cb(false);\r\n                }, 0);\r\n            }\r\n        };\r\n        script.src = url;\r\n        head.appendChild(script);\r\n    };\r\n    var normalizeDomain = function (domain) {\r\n        return domain.replace(/^https?:\\/\\/|\\/$/g, '');\r\n    };\r\n    var normalizePath = function (path) {\r\n        path = path.replace(/\\/+/g, '/');\r\n        if (path.indexOf('/') !== 0) {\r\n            path = '/' + path;\r\n        }\r\n        return path;\r\n    };\r\n    var normalizeQuery = function (query) {\r\n        if (!query) {\r\n            return '';\r\n        }\r\n        var q = '?';\r\n        new _Object(query)._each(function (key, value) {\r\n            if (isString(value) || isNumber(value) || isBoolean(value)) {\r\n                q = q + encodeURIComponent(key) + '=' + encodeURIComponent(value) + '&';\r\n            }\r\n        });\r\n        if (q === '?') {\r\n            q = '';\r\n        }\r\n        return q.replace(/&$/, '');\r\n    };\r\n    var makeURL = function (protocol, domain, path, query) {\r\n        domain = normalizeDomain(domain);\r\n\r\n        var url = normalizePath(path) + normalizeQuery(query);\r\n        if (domain) {\r\n            url = protocol + domain + url;\r\n        }\r\n\r\n        return url;\r\n    };\r\n    var load = function (protocol, domains, path, query, cb) {\r\n        var tryRequest = function (at) {\r\n\r\n            var url = makeURL(protocol, domains[at], path, query);\r\n            loadScript(url, function (err) {\r\n                if (err) {\r\n                    if (at >= domains.length - 1) {\r\n                        cb(true);\r\n                    } else {\r\n                        tryRequest(at + 1);\r\n                    }\r\n                } else {\r\n                    cb(false);\r\n                }\r\n            });\r\n        };\r\n        tryRequest(0);\r\n    };\r\n    var jsonp = function (domains, path, config, callback) {\r\n        if (isObject(config.getLib)) {\r\n            config._extend(config.getLib);\r\n            callback(config);\r\n            return;\r\n        }\r\n        if (config.offline) {\r\n            callback(config._get_fallback_config());\r\n            return;\r\n        }\r\n        var cb = \"geetest_\" + random();\r\n        window[cb] = function (data) {\r\n            if (data.status === 'success') {\r\n                callback(data.data);\r\n            } else if (!data.status) {\r\n                callback(data);\r\n            } else {\r\n                callback(config._get_fallback_config());\r\n            }\r\n            window[cb] = undefined;\r\n            try {\r\n                delete window[cb];\r\n            } catch (e) {\r\n            }\r\n        };\r\n        load(config.protocol, domains, path, {\r\n            gt: config.gt,\r\n            callback: cb\r\n        }, function (err) {\r\n            if (err) {\r\n                callback(config._get_fallback_config());\r\n            }\r\n        });\r\n    };\r\n    var throwError = function (errorType, config) {\r\n        var errors = {\r\n            networkError: '网络错误'\r\n        };\r\n        if (typeof config.onError === 'function') {\r\n            config.onError(errors[errorType]);\r\n        } else {\r\n            throw new Error(errors[errorType]);\r\n        }\r\n    };\r\n    var detect = function () {\r\n        return !!window.Geetest;\r\n    };\r\n    if (detect()) {\r\n        status.slide = \"loaded\";\r\n    }\r\n    var initGeetest = function (userConfig, callback) {\r\n        var config = new Config(userConfig);\r\n        if (userConfig.https) {\r\n            config.protocol = 'https://';\r\n        } else if (!userConfig.protocol) {\r\n            config.protocol = window.location.protocol + '//';\r\n        }\r\n        jsonp([config.api_server || config.apiserver], config.type_path, config, function (newConfig) {\r\n            var type = newConfig.type;\r\n            var init = function () {\r\n                config._extend(newConfig);\r\n                callback(new window.Geetest(config));\r\n            };\r\n            callbacks[type] = callbacks[type] || [];\r\n            var s = status[type] || 'init';\r\n            if (s === 'init') {\r\n                status[type] = 'loading';\r\n                callbacks[type].push(init);\r\n                load(config.protocol, newConfig.static_servers || newConfig.domains, newConfig[type] || newConfig.path, null, function (err) {\r\n                    if (err) {\r\n                        status[type] = 'fail';\r\n                        throwError('networkError', config);\r\n                    } else {\r\n                        status[type] = 'loaded';\r\n                        var cbs = callbacks[type];\r\n                        for (var i = 0, len = cbs.length; i < len; i = i + 1) {\r\n                            var cb = cbs[i];\r\n                            if (isFunction(cb)) {\r\n                                cb();\r\n                            }\r\n                        }\r\n                        callbacks[type] = [];\r\n                    }\r\n                });\r\n            } else if (s === \"loaded\") {\r\n                init();\r\n            } else if (s === \"fail\") {\r\n                throwError('networkError', config);\r\n            } else if (s === \"loading\") {\r\n                callbacks[type].push(init);\r\n            }\r\n        });\r\n    };\r\n    window.initGeetest = initGeetest;\r\n    return initGeetest;\r\n});\r\n"]}]}